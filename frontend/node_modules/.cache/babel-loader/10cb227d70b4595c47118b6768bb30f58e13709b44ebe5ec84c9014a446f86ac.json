{"ast":null,"code":"import React,{useState}from'react';import'./PromptsSidebar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PromptsSidebar=_ref=>{var _projects$find;let{prompts,onSelectPrompt,selectedPromptId,onNewPrompt,loading,projects,selectedProjectId,onSelectProject,onNewProject,onEditProject,hidePrompts=false,statusFilter='draft',onStatusFilterChange}=_ref;const[showNewProjectForm,setShowNewProjectForm]=useState(false);const[newProjectName,setNewProjectName]=useState('');const handleNewProjectSubmit=async e=>{e.preventDefault();if(newProjectName.trim()){try{await onNewProject(newProjectName.trim());setNewProjectName('');setShowNewProjectForm(false);}catch(error){console.error('Failed to create project:',error);}}};const handleNewProjectCancel=()=>{setNewProjectName('');setShowNewProjectForm(false);};if(loading){return/*#__PURE__*/_jsxs(\"aside\",{className:\"prompts-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"prompts-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Prompts\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"prompts-loading\",children:\"Loading prompts...\"})]});}return/*#__PURE__*/_jsxs(\"aside\",{className:\"prompts-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"project-selector\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"project-select\",children:\"Project:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"project-selector-row\",children:[/*#__PURE__*/_jsxs(\"select\",{id:\"project-select\",value:selectedProjectId||'',onChange:e=>onSelectProject(e.target.value?parseInt(e.target.value):null),className:\"project-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Projects\"}),projects.map(project=>/*#__PURE__*/_jsx(\"option\",{value:project.id,children:project.name},project.id))]}),selectedProjectId&&/*#__PURE__*/_jsx(\"button\",{className:\"edit-project-btn\",onClick:()=>onEditProject(selectedProjectId),title:\"Edit project\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"new-project-btn\",onClick:()=>setShowNewProjectForm(true),title:\"Add new project\",children:\"\\u2795\"})]}),showNewProjectForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleNewProjectSubmit,className:\"new-project-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newProjectName,onChange:e=>setNewProjectName(e.target.value),placeholder:\"Project name\",className:\"new-project-input\",autoFocus:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-project-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-project-btn\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-project-btn\",onClick:handleNewProjectCancel,children:\"Cancel\"})]})]})]}),!hidePrompts&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"prompts-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Prompts (\",prompts.length,\")\",selectedProjectId&&projects.find(p=>p.id===selectedProjectId)&&/*#__PURE__*/_jsxs(\"span\",{className:\"project-filter-label\",children:[\"- \",(_projects$find=projects.find(p=>p.id===selectedProjectId))===null||_projects$find===void 0?void 0:_projects$find.name]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"new-prompt-btn\",onClick:onNewPrompt,children:\"\\u2795 New Prompt\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-filters\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"status-filter-btn \".concat(statusFilter==='draft'?'active':''),onClick:()=>onStatusFilterChange('draft'),children:\"Draft\"}),/*#__PURE__*/_jsx(\"button\",{className:\"status-filter-btn \".concat(statusFilter==='archived'?'active':''),onClick:()=>onStatusFilterChange('archived'),children:\"Archive\"}),/*#__PURE__*/_jsx(\"button\",{className:\"status-filter-btn \".concat(statusFilter==='all'?'active':''),onClick:()=>onStatusFilterChange('all'),children:\"All\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"prompts-list\",children:prompts.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-prompts\",children:\"No prompts yet. Create your first prompt!\"}):prompts.map(prompt=>/*#__PURE__*/_jsxs(\"button\",{className:\"prompt-button \".concat(selectedPromptId===prompt.id?'prompt-button-selected':''),onClick:()=>onSelectPrompt(prompt),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"prompt-button-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"prompt-name\",children:prompt.name}),/*#__PURE__*/_jsx(\"span\",{className:\"prompt-status status-\".concat(prompt.status),children:prompt.status})]}),prompt.project_name&&/*#__PURE__*/_jsx(\"div\",{className:\"prompt-project\",children:prompt.project_name})]},prompt.id))})]})]});};export default PromptsSidebar;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PromptsSidebar","_ref","_projects$find","prompts","onSelectPrompt","selectedPromptId","onNewPrompt","loading","projects","selectedProjectId","onSelectProject","onNewProject","onEditProject","hidePrompts","statusFilter","onStatusFilterChange","showNewProjectForm","setShowNewProjectForm","newProjectName","setNewProjectName","handleNewProjectSubmit","e","preventDefault","trim","error","console","handleNewProjectCancel","className","children","htmlFor","id","value","onChange","target","parseInt","map","project","name","onClick","title","onSubmit","type","placeholder","autoFocus","length","find","p","concat","prompt","status","project_name"],"sources":["/Users/soshhowell/Apps/inkwell-internal/frontend/src/components/PromptsSidebar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './PromptsSidebar.css';\n\nconst PromptsSidebar = ({ \n  prompts, \n  onSelectPrompt, \n  selectedPromptId, \n  onNewPrompt, \n  loading,\n  projects,\n  selectedProjectId,\n  onSelectProject,\n  onNewProject,\n  onEditProject,\n  hidePrompts = false,\n  statusFilter = 'draft',\n  onStatusFilterChange\n}) => {\n  const [showNewProjectForm, setShowNewProjectForm] = useState(false);\n  const [newProjectName, setNewProjectName] = useState('');\n\n  const handleNewProjectSubmit = async (e) => {\n    e.preventDefault();\n    if (newProjectName.trim()) {\n      try {\n        await onNewProject(newProjectName.trim());\n        setNewProjectName('');\n        setShowNewProjectForm(false);\n      } catch (error) {\n        console.error('Failed to create project:', error);\n      }\n    }\n  };\n\n  const handleNewProjectCancel = () => {\n    setNewProjectName('');\n    setShowNewProjectForm(false);\n  };\n\n  if (loading) {\n    return (\n      <aside className=\"prompts-sidebar\">\n        <div className=\"prompts-header\">\n          <h3>Prompts</h3>\n        </div>\n        <div className=\"prompts-loading\">Loading prompts...</div>\n      </aside>\n    );\n  }\n\n  return (\n    <aside className=\"prompts-sidebar\">\n      <div className=\"project-selector\">\n        <label htmlFor=\"project-select\">Project:</label>\n        <div className=\"project-selector-row\">\n          <select \n            id=\"project-select\"\n            value={selectedProjectId || ''} \n            onChange={(e) => onSelectProject(e.target.value ? parseInt(e.target.value) : null)}\n            className=\"project-select\"\n          >\n            <option value=\"\">All Projects</option>\n            {projects.map(project => (\n              <option key={project.id} value={project.id}>\n                {project.name}\n              </option>\n            ))}\n          </select>\n          {selectedProjectId && (\n            <button \n              className=\"edit-project-btn\" \n              onClick={() => onEditProject(selectedProjectId)}\n              title=\"Edit project\"\n            >\n              ✏️\n            </button>\n          )}\n          <button \n            className=\"new-project-btn\" \n            onClick={() => setShowNewProjectForm(true)}\n            title=\"Add new project\"\n          >\n            ➕\n          </button>\n        </div>\n        \n        {showNewProjectForm && (\n          <form onSubmit={handleNewProjectSubmit} className=\"new-project-form\">\n            <input\n              type=\"text\"\n              value={newProjectName}\n              onChange={(e) => setNewProjectName(e.target.value)}\n              placeholder=\"Project name\"\n              className=\"new-project-input\"\n              autoFocus\n            />\n            <div className=\"new-project-buttons\">\n              <button type=\"submit\" className=\"save-project-btn\">Save</button>\n              <button type=\"button\" className=\"cancel-project-btn\" onClick={handleNewProjectCancel}>\n                Cancel\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n\n      {!hidePrompts && (\n        <>\n          <div className=\"prompts-header\">\n            <h3>\n              Prompts ({prompts.length})\n              {selectedProjectId && projects.find(p => p.id === selectedProjectId) && (\n                <span className=\"project-filter-label\">\n                  - {projects.find(p => p.id === selectedProjectId)?.name}\n                </span>\n              )}\n            </h3>\n            <button className=\"new-prompt-btn\" onClick={onNewPrompt}>\n              ➕ New Prompt\n            </button>\n          </div>\n          \n          <div className=\"status-filters\">\n            <button \n              className={`status-filter-btn ${statusFilter === 'draft' ? 'active' : ''}`}\n              onClick={() => onStatusFilterChange('draft')}\n            >\n              Draft\n            </button>\n            <button \n              className={`status-filter-btn ${statusFilter === 'archived' ? 'active' : ''}`}\n              onClick={() => onStatusFilterChange('archived')}\n            >\n              Archive\n            </button>\n            <button \n              className={`status-filter-btn ${statusFilter === 'all' ? 'active' : ''}`}\n              onClick={() => onStatusFilterChange('all')}\n            >\n              All\n            </button>\n          </div>\n          <div className=\"prompts-list\">\n            {prompts.length === 0 ? (\n              <div className=\"no-prompts\">No prompts yet. Create your first prompt!</div>\n            ) : (\n              prompts.map((prompt) => (\n                <button\n                  key={prompt.id}\n                  className={`prompt-button ${selectedPromptId === prompt.id ? 'prompt-button-selected' : ''}`}\n                  onClick={() => onSelectPrompt(prompt)}\n                >\n                  <div className=\"prompt-button-content\">\n                    <span className=\"prompt-name\">{prompt.name}</span>\n                    <span className={`prompt-status status-${prompt.status}`}>\n                      {prompt.status}\n                    </span>\n                  </div>\n                  {prompt.project_name && (\n                    <div className=\"prompt-project\">{prompt.project_name}</div>\n                  )}\n                </button>\n              ))\n            )}\n          </div>\n        </>\n      )}\n    </aside>\n  );\n};\n\nexport default PromptsSidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}