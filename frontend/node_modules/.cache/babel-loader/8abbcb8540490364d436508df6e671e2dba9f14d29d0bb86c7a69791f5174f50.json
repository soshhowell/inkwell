{"ast":null,"code":"import _objectSpread from\"/Users/soshhowell/Apps/inkwell-internal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PromptForm=_ref=>{let{onSubmit,initialData=null,projects=[],selectedProjectId=null,onAutoSave=null}=_ref;const[formData,setFormData]=useState({name:(initialData===null||initialData===void 0?void 0:initialData.name)||'',status:(initialData===null||initialData===void 0?void 0:initialData.status)||'draft',content:(initialData===null||initialData===void 0?void 0:initialData.content)||'',project_id:(initialData===null||initialData===void 0?void 0:initialData.project_id)||selectedProjectId||''});const[submitting,setSubmitting]=useState(false);const[autoSaving,setAutoSaving]=useState(false);const[hasUnsavedChanges,setHasUnsavedChanges]=useState(false);const autoSaveTimeoutRef=useRef(null);const initialDataRef=useRef(initialData);// Update form data when initialData changes (when switching between prompts)\nuseEffect(()=>{if(initialData){setFormData({name:initialData.name||'',status:initialData.status||'draft',content:initialData.content||'',project_id:initialData.project_id||''});setHasUnsavedChanges(false);initialDataRef.current=initialData;}else{// Reset form for new prompt creation\nsetFormData({name:'',status:'draft',content:'',project_id:selectedProjectId||''});setHasUnsavedChanges(false);initialDataRef.current=null;}// Clear any pending auto-save when switching prompts\nif(autoSaveTimeoutRef.current){clearTimeout(autoSaveTimeoutRef.current);autoSaveTimeoutRef.current=null;}},[initialData,selectedProjectId]);// Auto-save function\nconst triggerAutoSave=useCallback(async data=>{if(!onAutoSave)return;setAutoSaving(true);try{await onAutoSave(data);setHasUnsavedChanges(false);initialDataRef.current=_objectSpread(_objectSpread({},initialDataRef.current),data);}catch(error){console.error('Auto-save failed:',error);}finally{setAutoSaving(false);}},[onAutoSave]);// Check if form data has changes\nconst hasFormChanged=useCallback(newData=>{const initial=initialDataRef.current;// For new prompts, check if there's content worth saving\nif(!initial){return newData.name.trim()!==''||newData.content.trim()!=='';}// For existing prompts, check if data has changed\nreturn newData.name!==(initial.name||'')||newData.status!==(initial.status||'draft')||newData.content!==(initial.content||'')||newData.project_id!==(initial.project_id||'');},[]);// Debounced auto-save effect\nuseEffect(()=>{if(!hasFormChanged(formData)){setHasUnsavedChanges(false);return;}setHasUnsavedChanges(true);// Clear existing timeout\nif(autoSaveTimeoutRef.current){clearTimeout(autoSaveTimeoutRef.current);}// Set new timeout for auto-save\nautoSaveTimeoutRef.current=setTimeout(()=>{triggerAutoSave(formData);},2000);// Cleanup function\nreturn()=>{if(autoSaveTimeoutRef.current){clearTimeout(autoSaveTimeoutRef.current);}};},[formData,hasFormChanged,triggerAutoSave]);// Handle Cmd+S/Ctrl+S keyboard shortcut\nuseEffect(()=>{const handleKeyDown=e=>{// Check for Cmd+S (Mac) or Ctrl+S (Windows/Linux)\nif((e.metaKey||e.ctrlKey)&&e.key==='s'){e.preventDefault();// Prevent browser's default save behavior\n// Trigger the appropriate save action\nif(initialData){// For existing prompts, trigger autosave immediately\ntriggerAutoSave(formData);}else{// For new prompts, call onSubmit directly\nif(formData.name.trim()){onSubmit(formData);}}}};// Add event listener\ndocument.addEventListener('keydown',handleKeyDown);// Cleanup\nreturn()=>{document.removeEventListener('keydown',handleKeyDown);};},[formData,initialData,triggerAutoSave,onSubmit]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleStatusToggle=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{status:prev.status==='draft'?'archived':'draft'}));};const handleSubmit=async e=>{e.preventDefault();setSubmitting(true);try{await onSubmit(formData);// Reset form after successful submission\nif(!initialData){setFormData({name:'',status:'draft',content:'',project_id:selectedProjectId||''});}}catch(error){console.error('Form submission error:',error);}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"prompt-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Prompt Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange,required:true,placeholder:\"Enter prompt name\",disabled:submitting,tabIndex:1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Status: \",formData.status==='draft'?'Draft':'Archive']}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleStatusToggle,disabled:submitting,tabIndex:4,className:\"status-toggle \".concat(formData.status==='draft'?'draft':'archived'),children:formData.status==='draft'?'Archive':'Draft'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"project_id\",children:\"Project\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"project_id\",name:\"project_id\",value:formData.project_id,onChange:handleChange,disabled:submitting,tabIndex:5,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Project (optional)\"}),projects.map(project=>/*#__PURE__*/_jsx(\"option\",{value:project.id,children:project.name},project.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"content\",name:\"content\",value:formData.content,onChange:handleChange,rows:\"8\",placeholder:\"Enter your prompt content...\",disabled:submitting,tabIndex:2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",disabled:submitting||!formData.name.trim(),tabIndex:3,children:submitting?'Creating...':initialData?'Update Prompt':'Create Prompt'}),onAutoSave&&/*#__PURE__*/_jsxs(\"div\",{className:\"auto-save-status\",children:[autoSaving&&/*#__PURE__*/_jsx(\"span\",{className:\"auto-saving\",children:\"Auto-saving...\"}),!autoSaving&&hasUnsavedChanges&&/*#__PURE__*/_jsx(\"span\",{className:\"unsaved\",children:\"Unsaved changes\"}),!autoSaving&&!hasUnsavedChanges&&(initialData||!hasFormChanged(formData))&&/*#__PURE__*/_jsx(\"span\",{className:\"saved\",children:\"Saved\"})]})]})]});};export default PromptForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsx","_jsx","jsxs","_jsxs","PromptForm","_ref","onSubmit","initialData","projects","selectedProjectId","onAutoSave","formData","setFormData","name","status","content","project_id","submitting","setSubmitting","autoSaving","setAutoSaving","hasUnsavedChanges","setHasUnsavedChanges","autoSaveTimeoutRef","initialDataRef","current","clearTimeout","triggerAutoSave","data","_objectSpread","error","console","hasFormChanged","newData","initial","trim","setTimeout","handleKeyDown","e","metaKey","ctrlKey","key","preventDefault","document","addEventListener","removeEventListener","handleChange","value","target","prev","handleStatusToggle","handleSubmit","className","children","htmlFor","type","id","onChange","required","placeholder","disabled","tabIndex","onClick","concat","map","project","rows"],"sources":["/Users/soshhowell/Apps/inkwell-internal/frontend/src/components/PromptForm.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\n\nconst PromptForm = ({ onSubmit, initialData = null, projects = [], selectedProjectId = null, onAutoSave = null }) => {\n  const [formData, setFormData] = useState({\n    name: initialData?.name || '',\n    status: initialData?.status || 'draft',\n    content: initialData?.content || '',\n    project_id: initialData?.project_id || selectedProjectId || ''\n  });\n  const [submitting, setSubmitting] = useState(false);\n  const [autoSaving, setAutoSaving] = useState(false);\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n  const autoSaveTimeoutRef = useRef(null);\n  const initialDataRef = useRef(initialData);\n\n  // Update form data when initialData changes (when switching between prompts)\n  useEffect(() => {\n    if (initialData) {\n      setFormData({\n        name: initialData.name || '',\n        status: initialData.status || 'draft',\n        content: initialData.content || '',\n        project_id: initialData.project_id || ''\n      });\n      setHasUnsavedChanges(false);\n      initialDataRef.current = initialData;\n    } else {\n      // Reset form for new prompt creation\n      setFormData({\n        name: '',\n        status: 'draft',\n        content: '',\n        project_id: selectedProjectId || ''\n      });\n      setHasUnsavedChanges(false);\n      initialDataRef.current = null;\n    }\n    \n    // Clear any pending auto-save when switching prompts\n    if (autoSaveTimeoutRef.current) {\n      clearTimeout(autoSaveTimeoutRef.current);\n      autoSaveTimeoutRef.current = null;\n    }\n  }, [initialData, selectedProjectId]);\n\n  // Auto-save function\n  const triggerAutoSave = useCallback(async (data) => {\n    if (!onAutoSave) return;\n    \n    setAutoSaving(true);\n    try {\n      await onAutoSave(data);\n      setHasUnsavedChanges(false);\n      initialDataRef.current = { ...initialDataRef.current, ...data };\n    } catch (error) {\n      console.error('Auto-save failed:', error);\n    } finally {\n      setAutoSaving(false);\n    }\n  }, [onAutoSave]);\n\n  // Check if form data has changes\n  const hasFormChanged = useCallback((newData) => {\n    const initial = initialDataRef.current;\n    \n    // For new prompts, check if there's content worth saving\n    if (!initial) {\n      return newData.name.trim() !== '' || newData.content.trim() !== '';\n    }\n    \n    // For existing prompts, check if data has changed\n    return (\n      newData.name !== (initial.name || '') ||\n      newData.status !== (initial.status || 'draft') ||\n      newData.content !== (initial.content || '') ||\n      newData.project_id !== (initial.project_id || '')\n    );\n  }, []);\n\n  // Debounced auto-save effect\n  useEffect(() => {\n    if (!hasFormChanged(formData)) {\n      setHasUnsavedChanges(false);\n      return;\n    }\n\n    setHasUnsavedChanges(true);\n    \n    // Clear existing timeout\n    if (autoSaveTimeoutRef.current) {\n      clearTimeout(autoSaveTimeoutRef.current);\n    }\n\n    // Set new timeout for auto-save\n    autoSaveTimeoutRef.current = setTimeout(() => {\n      triggerAutoSave(formData);\n    }, 2000);\n\n    // Cleanup function\n    return () => {\n      if (autoSaveTimeoutRef.current) {\n        clearTimeout(autoSaveTimeoutRef.current);\n      }\n    };\n  }, [formData, hasFormChanged, triggerAutoSave]);\n\n  // Handle Cmd+S/Ctrl+S keyboard shortcut\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      // Check for Cmd+S (Mac) or Ctrl+S (Windows/Linux)\n      if ((e.metaKey || e.ctrlKey) && e.key === 's') {\n        e.preventDefault(); // Prevent browser's default save behavior\n        \n        // Trigger the appropriate save action\n        if (initialData) {\n          // For existing prompts, trigger autosave immediately\n          triggerAutoSave(formData);\n        } else {\n          // For new prompts, call onSubmit directly\n          if (formData.name.trim()) {\n            onSubmit(formData);\n          }\n        }\n      }\n    };\n\n    // Add event listener\n    document.addEventListener('keydown', handleKeyDown);\n\n    // Cleanup\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [formData, initialData, triggerAutoSave, onSubmit]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleStatusToggle = () => {\n    setFormData(prev => ({\n      ...prev,\n      status: prev.status === 'draft' ? 'archived' : 'draft'\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n    \n    try {\n      await onSubmit(formData);\n      // Reset form after successful submission\n      if (!initialData) {\n        setFormData({\n          name: '',\n          status: 'draft',\n          content: '',\n          project_id: selectedProjectId || ''\n        });\n      }\n    } catch (error) {\n      console.error('Form submission error:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"prompt-form\">\n      <div className=\"form-row\">\n        <div className=\"form-group\">\n          <label htmlFor=\"name\">Prompt Name *</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleChange}\n            required\n            placeholder=\"Enter prompt name\"\n            disabled={submitting}\n            tabIndex={1}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Status: {formData.status === 'draft' ? 'Draft' : 'Archive'}</label>\n          <button\n            type=\"button\"\n            onClick={handleStatusToggle}\n            disabled={submitting}\n            tabIndex={4}\n            className={`status-toggle ${formData.status === 'draft' ? 'draft' : 'archived'}`}\n          >\n            {formData.status === 'draft' ? 'Archive' : 'Draft'}\n          </button>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"project_id\">Project</label>\n          <select\n            id=\"project_id\"\n            name=\"project_id\"\n            value={formData.project_id}\n            onChange={handleChange}\n            disabled={submitting}\n            tabIndex={5}\n          >\n            <option value=\"\">Select Project (optional)</option>\n            {projects.map(project => (\n              <option key={project.id} value={project.id}>\n                {project.name}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"content\">Content</label>\n        <textarea\n          id=\"content\"\n          name=\"content\"\n          value={formData.content}\n          onChange={handleChange}\n          rows=\"8\"\n          placeholder=\"Enter your prompt content...\"\n          disabled={submitting}\n          tabIndex={2}\n        />\n      </div>\n\n      <div className=\"form-actions\">\n        <button \n          type=\"submit\" \n          className=\"btn\"\n          disabled={submitting || !formData.name.trim()}\n          tabIndex={3}\n        >\n          {submitting ? 'Creating...' : initialData ? 'Update Prompt' : 'Create Prompt'}\n        </button>\n        {onAutoSave && (\n          <div className=\"auto-save-status\">\n            {autoSaving && <span className=\"auto-saving\">Auto-saving...</span>}\n            {!autoSaving && hasUnsavedChanges && <span className=\"unsaved\">Unsaved changes</span>}\n            {!autoSaving && !hasUnsavedChanges && (initialData || !hasFormChanged(formData)) && <span className=\"saved\">Saved</span>}\n          </div>\n        )}\n      </div>\n    </form>\n  );\n};\n\nexport default PromptForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}